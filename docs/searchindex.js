Search.setIndex({docnames:["Filter","Models","Visuals","index","main","modules","tools"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,sphinx:56},filenames:["Filter.rst","Models.rst","Visuals.rst","index.rst","main.rst","modules.rst","tools.rst"],objects:{"":[[0,0,0,"-","Filter"],[1,0,0,"-","Models"],[2,0,0,"-","Visuals"],[6,0,0,"-","tools"]],"Filter.Filter":[[0,1,1,"","Filter"]],"Filter.Filter.Filter":[[0,2,1,"","Om_old"],[0,2,1,"","acc_old"],[0,3,1,"","calculate_dof_metric"],[0,3,1,"","calculate_metric"],[0,3,1,"","calculate_update_mse"],[0,2,1,"","config"],[0,3,1,"","get_upd_values"],[0,2,1,"","om_old"],[0,3,1,"","plot"],[0,3,1,"","propagate"],[0,3,1,"","propagate_imu"],[0,3,1,"","reset"],[0,3,1,"","run"],[0,2,1,"","run_id"],[0,3,1,"","run_one_epoch"],[0,3,1,"","save"],[0,3,1,"","save_states"],[0,2,1,"","u"],[0,3,1,"","update"],[0,3,1,"","update_noise_matrices"],[0,2,1,"","x"]],"Filter.Measurement":[[0,1,1,"","ImuMeasurement"],[0,1,1,"","Measurement"],[0,1,1,"","VisualMeasurement"]],"Filter.Measurement.ImuMeasurement":[[0,3,1,"","at_index"],[0,2,1,"","is_queue"]],"Filter.Quaternion":[[0,1,1,"","Quaternion"],[0,4,1,"","euler_error_checking"],[0,4,1,"","raise_wrong_input"],[0,4,1,"","skew"]],"Filter.Quaternion.Quaternion":[[0,2,1,"","angle"],[0,2,1,"","axis"],[0,2,1,"","conjugate"],[0,2,1,"","euler_xyz_deg"],[0,2,1,"","euler_xyz_rad"],[0,2,1,"","euler_zyx_deg"],[0,2,1,"","euler_zyx_rad"],[0,3,1,"","normalise"],[0,2,1,"","rot"],[0,2,1,"","sp_rot"],[0,2,1,"","v"],[0,2,1,"","wxyz"],[0,2,1,"","xyzw"]],"Filter.Simulator":[[0,1,1,"","Simulator"]],"Filter.Simulator.Simulator":[[0,2,1,"","best_run_id"],[0,2,1,"","config"],[0,2,1,"","optim_std"],[0,3,1,"","optimise"],[0,3,1,"","plot"],[0,3,1,"","reset_kf"],[0,3,1,"","run"],[0,3,1,"","run_once"],[0,3,1,"","save_params"]],"Filter.States":[[0,1,1,"","ErrorStates"],[0,1,1,"","States"],[0,4,1,"","quaternion_about_axis"]],"Filter.States.ErrorStates":[[0,3,1,"","reset"],[0,3,1,"","set"]],"Filter.States.States":[[0,3,1,"","apply_correction"],[0,2,1,"","dofs"],[0,3,1,"","get_ic"],[0,2,1,"","ndofs"],[0,2,1,"","p"],[0,2,1,"","p_cam"],[0,2,1,"","q"],[0,2,1,"","q_cam"],[0,3,1,"","set"],[0,2,1,"","v"],[0,2,1,"","vec"]],"Filter.Trajectory":[[0,1,1,"","FilterTraj"],[0,1,1,"","ImuRefTraj"],[0,1,1,"","ImuTraj"],[0,1,1,"","Trajectory"],[0,1,1,"","VisualTraj"]],"Filter.Trajectory.FilterTraj":[[0,3,1,"","append_propagated_states"],[0,3,1,"","append_updated_states"],[0,2,1,"","rx_degc_unwrapped"],[0,2,1,"","rx_unwrapped"],[0,2,1,"","ry_degc_unwrapped"],[0,2,1,"","ry_unwrapped"],[0,2,1,"","rz_degc_unwrapped"],[0,2,1,"","rz_unwrapped"]],"Filter.Trajectory.ImuRefTraj":[[0,3,1,"","append_value"]],"Filter.Trajectory.ImuTraj":[[0,3,1,"","at_index"],[0,3,1,"","get_queue"],[0,3,1,"","reconstruct"],[0,3,1,"","reconstruct_vis_traj"]],"Filter.Trajectory.Trajectory":[[0,3,1,"","append_data"],[0,3,1,"","clear"],[0,2,1,"","interframe_vals"],[0,2,1,"","is_interpolated"],[0,2,1,"","nvals"],[0,3,1,"","plot_3d"],[0,3,1,"","reset"],[0,3,1,"","write_to_file"]],"Filter.Trajectory.VisualTraj":[[0,3,1,"","at_index"],[0,3,1,"","gen_angle_arrays"],[0,3,1,"","read_notch_from_file"],[0,3,1,"","write_notch"]],"Models.Camera":[[1,1,1,"","Camera"],[1,1,1,"","CameraInterpolated"],[1,1,1,"","CameraQueue"]],"Models.Camera.Camera":[[1,3,1,"","at_index"],[1,3,1,"","create"],[1,2,1,"","filepath"],[1,2,1,"","flag_interpolated"],[1,3,1,"","gen_rotated"],[1,3,1,"","generate_queue"],[1,3,1,"","get_notch_at"],[1,3,1,"","interpolate"],[1,3,1,"","plot"],[1,3,1,"","plot_notch"],[1,3,1,"","update_sim_params"],[1,3,1,"","vec_at"]],"Models.Camera.CameraInterpolated":[[1,2,1,"","interframe_vals"]],"Models.Camera.CameraQueue":[[1,3,1,"","at_index"],[1,2,1,"","vec"]],"Models.Imu":[[1,1,1,"","Imu"]],"Models.Imu.Imu":[[1,2,1,"","acc"],[1,3,1,"","append_to_file"],[1,3,1,"","clear"],[1,3,1,"","create"],[1,3,1,"","eval_expr_single"],[1,3,1,"","eval_init"],[1,2,1,"","flag_interpolated"],[1,3,1,"","generate_traj"],[1,2,1,"","num_imu_between_frames"],[1,2,1,"","nvals"],[1,2,1,"","om"],[1,3,1,"","reconstruct"],[1,3,1,"","ref_vals"],[1,3,1,"","reset"],[1,3,1,"","write_array_to_file"]],"Models.Interpolator":[[1,1,1,"","Interpolator"]],"Models.Interpolator.Interpolator":[[1,2,1,"","flag_done"],[1,3,1,"","interpolate"],[1,2,1,"","interpolated"]],"Models.Probe":[[1,1,1,"","Probe"],[1,1,1,"","RigidSimpleProbe"],[1,1,1,"","SimpleProbe"],[1,1,1,"","SymProbe"]],"Models.Probe.Probe":[[1,2,1,"","R"],[1,2,1,"","T"],[1,2,1,"","acc"],[1,2,1,"","alp"],[1,2,1,"","fwkin"],[1,3,1,"","get_sym"],[1,3,1,"","hessian_symbolic"],[1,2,1,"","imu_dofs"],[1,2,1,"","joint_dofs"],[1,2,1,"","om"],[1,2,1,"","p"],[1,3,1,"","plot"],[1,2,1,"","q_cas"],[1,2,1,"","qd_cas"],[1,2,1,"","qd_s_arr"],[1,2,1,"","qdd_cas"],[1,2,1,"","v"]],"Models.Probe.RigidSimpleProbe":[[1,5,1,"","ROT1"],[1,5,1,"","ROT2"],[1,5,1,"","ROT3"],[1,5,1,"","TRANS4"],[1,5,1,"","TRANS5"],[1,5,1,"","TRANS6"],[1,5,1,"","constraints"]],"Models.Probe.SimpleProbe":[[1,5,1,"","ROT1"],[1,5,1,"","ROT2"],[1,5,1,"","ROT3"],[1,5,1,"","TRANS4"],[1,5,1,"","TRANS5"],[1,5,1,"","TRANS6"],[1,5,1,"","constraints"]],"Models.Probe.SymProbe":[[1,3,1,"","get_est_fwkin"]],"Visuals.MatrixPlotter":[[2,1,1,"","MatrixPlotter"]],"Visuals.MatrixPlotter.MatrixPlotter":[[2,3,1,"","append"],[2,3,1,"","plot"]],"Visuals.Plotter":[[2,1,1,"","CameraPlot"],[2,1,1,"","DofRef"],[2,1,1,"","FilterPlot"],[2,1,1,"","Plotter"],[2,4,1,"","np_string"]],"Visuals.Plotter.CameraPlot":[[2,3,1,"","plot"],[2,3,1,"","plot_notch"]],"Visuals.Plotter.FilterPlot":[[2,5,1,"","img_filepath_cam"],[2,3,1,"","plot"],[2,3,1,"","plot_compact"]],"Visuals.Plotter.Plotter":[[2,3,1,"","plot"],[2,3,1,"","save"]],"Visuals.decorators":[[2,4,1,"","plot_loop"],[2,4,1,"","show_plot"]],"tools.config":[[6,1,1,"","CameraConfig"],[6,1,1,"","CameraNoise"],[6,1,1,"","Config"],[6,1,1,"","DofsNoise"],[6,1,1,"","FilterConfig"],[6,1,1,"","ImuConfig"],[6,1,1,"","InitialConditions"],[6,1,1,"","ModelConfig"],[6,1,1,"","SimConfig"],[6,1,1,"","SimMode"],[6,1,1,"","States"],[6,4,1,"","np_string"]],"tools.config.CameraConfig":[[6,3,1,"","all_frames"],[6,5,1,"","noise"],[6,5,1,"","scale"],[6,5,1,"","start_frame"],[6,5,1,"","total_frames"]],"tools.config.CameraNoise":[[6,5,1,"","notch"],[6,5,1,"","position"],[6,5,1,"","theta"],[6,3,1,"","to_radians"],[6,2,1,"","vec"]],"tools.config.Config":[[6,3,1,"","print"],[6,3,1,"","print_dofs"],[6,3,1,"","update_dofs"]],"tools.config.DofsNoise":[[6,5,1,"","notch_accel"],[6,5,1,"","rotation"],[6,3,1,"","to_radians"],[6,5,1,"","translation"],[6,2,1,"","vec"]],"tools.config.FilterConfig":[[6,5,1,"","ic"],[6,2,1,"","noise_dofs"],[6,5,1,"","process_noise"]],"tools.config.ImuConfig":[[6,5,1,"","gravity"],[6,5,1,"","interframe_vals"],[6,2,1,"","noise_gyro"],[6,5,1,"","noise_sample_rate"],[6,2,1,"","stdev_accel"],[6,2,1,"","stdev_omega"]],"tools.config.InitialConditions":[[6,5,1,"","cov0"],[6,2,1,"","cov0_matrix"],[6,5,1,"","x0"]],"tools.config.ModelConfig":[[6,5,1,"","angle"],[6,5,1,"","length"],[6,3,1,"","to_radians"]],"tools.config.SimConfig":[[6,5,1,"","data_folder"],[6,5,1,"","do_fast_sim"],[6,5,1,"","do_plot"],[6,5,1,"","frozen_dofs"],[6,5,1,"","mode"],[6,5,1,"","num_kf_runs"],[6,5,1,"","traj_name"]],"tools.config.SimMode":[[6,5,1,"","RUN"],[6,5,1,"","TUNE"]],"tools.config.States":[[6,5,1,"","camera_pos"],[6,5,1,"","camera_theta"],[6,5,1,"","dofs_rot"],[6,5,1,"","dofs_trans"],[6,5,1,"","imu_pos"],[6,5,1,"","imu_theta"],[6,5,1,"","imu_vel"],[6,5,1,"","notch"],[6,3,1,"","to_radians"],[6,2,1,"","vec"]],"tools.utils":[[6,4,1,"","generate_imudof_ic"]],Filter:[[0,0,0,"-","Filter"],[0,0,0,"-","Measurement"],[0,0,0,"-","Quaternion"],[0,0,0,"-","Simulator"],[0,0,0,"-","States"],[0,0,0,"-","Trajectory"],[0,0,0,"-","context"]],Models:[[1,0,0,"-","Camera"],[1,0,0,"-","Imu"],[1,0,0,"-","Interpolator"],[1,0,0,"-","Probe"]],Visuals:[[2,0,0,"-","MatrixPlotter"],[2,0,0,"-","Plotter"],[2,0,0,"-","decorators"],[2,0,0,"-","line_formats"]],tools:[[6,0,0,"-","config"],[6,0,0,"-","utils"]]},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","property","Python property"],"3":["py","method","Python method"],"4":["py","function","Python function"],"5":["py","attribute","Python attribute"]},objtypes:{"0":"py:module","1":"py:class","2":"py:property","3":"py:method","4":"py:function","5":"py:attribute"},terms:{"0":[0,1,2,6],"05":[1,6],"1":[0,2],"2":6,"20":[1,6],"23":6,"3":6,"6x1":0,"class":[0,1,2,6],"enum":6,"float":6,"int":[0,1,6],"new":0,"return":[0,1],"static":[0,1],"true":[0,1],For:[0,1,2,6],The:0,_acc:1,_om:1,about:0,abov:1,acc:[0,1],acc_old:0,acceler:[0,1],adjust:0,after:[0,1],aipiano:0,all:0,all_fram:6,allow:1,alp:1,alreadi:0,also:1,an:6,ang_notch:0,angl:[0,6],angular:[0,1],append:[0,1,2],append_arrai:1,append_data:0,append_propagated_st:0,append_to_fil:1,append_updated_st:0,append_valu:0,apply_correct:0,ar:0,arg:[0,1,2],arr:[2,6],arrai:[1,2,6],at_index:[0,1],attribut:0,avail:0,averag:0,ax:[0,2],axi:0,b:1,base:[0,1,2,6],basemodel:6,bc:1,belong:0,best_run_id:0,between:0,blob:0,block:1,bool:6,c:1,calcul:0,calculate_dof_metr:0,calculate_metr:0,calculate_update_ms:0,calibr:3,cam:1,camera:[0,2,3,5],camera_po:6,camera_theta:6,cameraconfig:6,camerainterpol:1,cameranois:6,cameraplot:2,cameraqueu:1,can:0,cap:0,classmethod:6,clear:[0,1],cm:6,com:0,comp:0,compact:0,compon:0,condit:[0,1,6],config:[0,1,5],configur:1,conjug:0,const_dof:1,constraint:1,contain:[0,1],content:5,context:5,conveni:0,coordin:1,count:0,coupl:3,cov0:[0,6],cov0_matrix:6,covari:0,creat:[1,2],cs:0,current:[0,1],current_cam:[0,1],current_cam_t:0,current_notch:[0,1],cystoscop:3,data:[0,1],data_fold:6,data_label:0,decor:5,deg:6,degre:1,deriv:1,desir:[0,1],dhrobot:1,dict:6,discard_interframe_v:0,disp_config:0,do_fast_sim:6,do_normalis:0,do_plot:6,do_regener:1,dof:[0,1,6],dofref:2,dofs_est:1,dofs_rot:6,dofs_tran:6,dofsnois:6,dt:1,e1:0,e2:0,e:[0,6],either:0,end:0,entri:2,enumer:6,epoch:0,err:0,error:0,errorst:0,esekf_imu:0,eskf:3,estim:[1,3],euler:0,euler_error_check:0,euler_xyz_deg:0,euler_xyz_rad:0,euler_zyx_deg:0,euler_zyx_rad:0,eval_expr_singl:1,eval_init:1,evalu:1,exist:0,express:1,extrins:0,f_plot_obj:2,factor:0,fals:[0,1,2],figur:1,file:1,filenam:[0,2],filepath:[0,1,6],filter:5,filterconfig:6,filterplot:2,filtertraj:0,fix:0,flag_don:1,flag_interpol:1,format:[2,6],forward:1,frame:0,freedom:1,from:[0,1,2],frozen_dof:6,fwkin:1,g:[0,6],gen_angle_arrai:0,gen_ref:1,gen_rot:1,gener:[0,1,6],generate_imudof_:6,generate_queu:1,generate_traj:1,get:0,get_est_fwkin:1,get_ic:0,get_notch_at:1,get_queu:0,get_sym:1,get_upd_valu:0,github:0,given:[0,1],graviti:6,gt_dof:6,hessian_symbol:1,hold:1,http:0,i:1,i_cam:0,ic:[0,6],img_filepath_cam:2,implement:3,imu:[0,3,5,6],imu_dof:1,imu_po:6,imu_theta:6,imu_vel:6,imuconfig:6,imudof_:0,imumeasur:0,imureftraj:0,imutraj:0,index:[0,3],index_from_zero:2,indic:0,info:1,initi:[0,1,6],initialcondit:6,instanc:0,integr:0,interframe_v:[0,1,6],interp_traj:1,interpol:5,is_interpol:0,is_queu:0,is_stat:1,j0:1,joint_dof:1,k:0,kalman:0,kf:[0,2],kinemat:1,kp:0,kwarg:2,label:[0,2],length:6,limit:1,line_format:5,list:[0,6],loop:0,loos:3,main:[0,6],mani:0,master:0,mat:2,matrix:2,matrixplott:5,max_col:2,max_row:2,max_t:2,max_val:1,mean:0,measur:5,min_col:2,min_row:2,min_t:2,mode:6,model:5,modelconfig:6,modifi:1,modul:[3,5],movi:1,mse:0,must:0,name:[0,2],ndarrai:6,ndof:0,new_t:1,nois:[0,6],noise_dof:6,noise_gyro:6,noise_sample_r:6,non:1,none:[0,1,2,6],normalis:0,notch0:[0,1],notch:6,notch_accel:6,notchdof:1,np:2,np_string:[2,6],num_imu_between_fram:1,num_kf_run:6,numer:0,numpi:6,nval:[0,1],obj:0,object:[0,1,2,6],obtain:[0,1],old:0,old_t:[0,1],om:[0,1],om_old:0,onli:[0,1],optim_std:0,optimis:0,option:[0,6],orient:0,over:0,overwrit:1,p:[0,1],p_cam:0,packag:5,page:3,param:[0,2],paramet:[0,3],part:1,perturb:6,plot:[0,1,2],plot_3d:0,plot_compact:2,plot_func:2,plot_loop:2,plot_notch:[1,2],plotter:5,po:0,point:1,pose:0,posit:[0,1,6],predict:0,print:[2,6],print_dof:6,probe:[5,6],process:0,process_nois:6,propag:0,propagate_imu:0,properti:[0,1,6],provid:1,py:0,pydant:6,q:[0,1],q_ca:1,q_cam:0,q_xyzw:0,qd:1,qd_ca:1,qd_s_arr:1,qdd:1,qdd_ca:1,quaternion:5,quaternion_about_axi:0,quats_arrai:1,queue:0,r:1,r_wb:0,r_wc:1,rad:6,radian:0,raise_wrong_input:0,read:1,read_notch_from_fil:0,real:6,real_joint_dof:1,reconstruct:[0,1],reconstruct_vis_traj:0,ref:0,ref_val:1,reinitialis:0,rel:1,relat:1,requir:0,res_acc:1,res_om:1,reset:[0,1],reset_kf:0,result:1,rigidsimpleprob:1,robot:1,roboticstoolbox:1,rot1:1,rot2:1,rot3:1,rot9:1,rot:0,rotat:[0,1,6],row:2,run:[0,6],run_desc_str:0,run_id:0,run_onc:0,run_one_epoch:0,rx_degc_unwrap:0,rx_unwrap:0,ry_degc_unwrap:0,ry_unwrap:0,rz_degc_unwrap:0,rz_unwrap:0,s:6,save:[0,2],save_best:0,save_param:0,save_st:0,scale:[0,1,6],scipi:0,scope_length:1,search:3,self:[0,1],sensor:[1,3],set:0,setup:3,sever:0,should:0,show_plot:2,sim:0,simconfig:6,simmod:6,simpl:1,simpleprob:1,simul:5,singl:0,skew:0,slam:[0,3],so:0,sp_rot:0,squar:0,start:[0,2],start_at:[0,1],start_fram:6,state:[5,6],stdev_accel:6,stdev_na:1,stdev_nom:1,stdev_omega:6,step:0,store:1,str:[0,6],submodul:5,symbol:1,symprob:1,synthet:[1,6],t0:0,t:[0,1,2],text:1,them:2,theta:6,theta_cam:1,thi:0,till:1,time:[0,1],timestamp:0,tn:0,to_radian:6,tool:5,total_fram:6,traj:[0,1],traj_nam:6,trajectori:[1,5],trans4:1,trans5:1,trans6:1,transform:0,translat:[1,6],troubleshoot:1,tune:[0,6],u:0,uninterp_camera:1,union:6,unnois:0,unnormalis:0,up:[0,1],updat:[0,1],update_dof:6,update_noise_matric:0,update_sim_param:1,us:[0,1],util:5,v1:0,v2:0,v:[0,1,6],val:0,valid:0,valu:[0,1,6],vec:[0,1,6],vec_at:1,vector:0,veloc:[0,1],verbos:0,vi:3,via:0,vis_data:0,visual:[0,5],visualmeasur:0,visualtraj:0,w:0,w_acc_c:1,w_alp_c:1,w_om_c:1,w_p_bw_0:0,well:[0,1],when:[2,6],whether:2,which:[0,1],with_notch:[0,1],write:1,write_array_to_fil:1,write_notch:0,write_to_fil:0,ww_v_bw_0:0,wxyz:0,x0:[0,6],x:0,xyzw:0,y:0,z:0},titles:["Filter package","Models package","Visuals package","DVI-EKF","main module","dvi-ekf","tools package"],titleterms:{camera:1,config:6,content:[0,1,2,3,6],context:[0,1],decor:2,dvi:[3,5],ekf:[3,5],filter:0,imu:1,interpol:1,line_format:2,main:4,matrixplott:2,measur:0,model:1,modul:[0,1,2,4,6],packag:[0,1,2,6],plotter:2,probe:1,quaternion:0,simul:0,state:0,submodul:[0,1,2,6],tool:6,trajectori:0,util:6,visual:2}})